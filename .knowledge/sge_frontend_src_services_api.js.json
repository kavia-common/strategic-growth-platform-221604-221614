{"is_source_file": true, "format": "JavaScript", "description": "This file defines an API service module for frontend interaction with backend endpoints. It includes configuration for Axios, environment-based URL resolution, request and response interceptors for authentication and error handling, and functions for accessing specific backend resources such as conversations, messages, and dashboard summaries.", "external_files": ["../supabase/supabase"], "external_methods": ["supabase.auth.getSession"], "published": ["getConversations", "createConversation", "getConversationById", "createMessage", "getDashboardSummary", "default"], "classes": [], "methods": [{"name": "resolveBaseURL", "description": "Resolves the API base URL from environment variables or fallback logic based on window location or default schemes."}, {"name": "getAuthContext()", "description": "Retrieves the current session's authentication token and organization ID from Supabase, handling null cases.", "scope": "", "scopeKind": ""}, {"name": "getConversations", "description": "Fetches all chat conversations for the user."}, {"name": "createConversation", "description": "Creates a new chat conversation with a provided title."}, {"name": "getConversationById", "description": "Fetches messages for a specific conversation identified by its ID."}, {"name": "createMessage", "description": "Sends a message to the specified conversation."}, {"name": "getDashboardSummary", "description": "Retrieves dashboard summary metrics."}], "calls": ["supabase.auth.getSession", "axios.create", "api.interceptors.request.use", "api.interceptors.response.use", "getAuthContext", "api.get", "api.post"], "search-terms": ["resolveBaseURL", "getAuthContext", "api/chat", "supabase.auth", "axios", "interceptors", "conversation"], "state": 2, "file_id": 14, "knowledge_revision": 307, "git_revision": "3f14d1c0a2a2adea42de8c60b79dadccdc553f18", "revision_history": [{"30": ""}, {"54": "35f8da6e8159e348f52a3d9923dd2ab4ea833629"}, {"307": "3f14d1c0a2a2adea42de8c60b79dadccdc553f18"}], "ctags": [{"_type": "tag", "name": "api", "path": "/home/kavia/workspace/code-generation/strategic-growth-platform-221604-221614/sge_frontend/src/services/api.js", "pattern": "/^const api = axios.create({$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "base", "path": "/home/kavia/workspace/code-generation/strategic-growth-platform-221604-221614/sge_frontend/src/services/api.js", "pattern": "/^  let base = candidates[0];$/", "language": "JavaScript", "kind": "variable"}, {"_type": "tag", "name": "candidates", "path": "/home/kavia/workspace/code-generation/strategic-growth-platform-221604-221614/sge_frontend/src/services/api.js", "pattern": "/^  const candidates = [$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "createConversation", "path": "/home/kavia/workspace/code-generation/strategic-growth-platform-221604-221614/sge_frontend/src/services/api.js", "pattern": "/^export const createConversation = (title) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "createMessage", "path": "/home/kavia/workspace/code-generation/strategic-growth-platform-221604-221614/sge_frontend/src/services/api.js", "pattern": "/^export const createMessage = (payload) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getAuthContext", "path": "/home/kavia/workspace/code-generation/strategic-growth-platform-221604-221614/sge_frontend/src/services/api.js", "pattern": "/^async function getAuthContext() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getConversationById", "path": "/home/kavia/workspace/code-generation/strategic-growth-platform-221604-221614/sge_frontend/src/services/api.js", "pattern": "/^export const getConversationById = (id) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getConversations", "path": "/home/kavia/workspace/code-generation/strategic-growth-platform-221604-221614/sge_frontend/src/services/api.js", "pattern": "/^export const getConversations = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getDashboardSummary", "path": "/home/kavia/workspace/code-generation/strategic-growth-platform-221604-221614/sge_frontend/src/services/api.js", "pattern": "/^export const getDashboardSummary = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "resolveBaseURL", "path": "/home/kavia/workspace/code-generation/strategic-growth-platform-221604-221614/sge_frontend/src/services/api.js", "pattern": "/^const resolveBaseURL = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "url", "path": "/home/kavia/workspace/code-generation/strategic-growth-platform-221604-221614/sge_frontend/src/services/api.js", "pattern": "/^      const url = new URL(window.location.href);$/", "language": "JavaScript", "kind": "constant"}], "hash": "b0c1b3dde0881df7aad08e59832a22f1", "format-version": 4, "code-base-name": "sge_frontend", "filename": "sge_frontend/src/services/api.js", "fields": [{"name": "let base = candidates[0];", "scope": "", "scopeKind": "", "description": "unavailable"}]}