{"is_source_file": true, "format": "JavaScript", "description": "This file sets up API communication for a React frontend application using axios. It includes configuration for resolving base URLs, includes authentication and tenant context via Supabase, and intercepts API requests and responses for logging and auth header management.", "external_files": ["../lib/supabase"], "external_methods": ["supabase.auth.getSession"], "published": ["default"], "classes": [], "methods": [{"name": "resolveBaseURL", "description": "Resolves the API base URL from environment variables, window location, or defaults, with normalization.", "parameters": [], "returns": "string"}, {"name": "getAuthContext()", "description": "Asynchronously fetches the current session from Supabase, extracting token and organization ID with error handling.", "parameters": [], "returns": "Promise<{ token: string | undefined, orgId: string | undefined }>", "scope": "", "scopeKind": ""}], "calls": ["axios.create", "supabase.auth.getSession", "api.interceptors.request.use", "api.interceptors.response.use", "getAuthContext"], "search-terms": ["axios setup", "supabase auth session", "API base URL resolution", "multitenancy header", "request/response interceptors"], "state": 2, "file_id": 14, "knowledge_revision": 244, "git_revision": "f0db8b00bb21ba6b96d61fb28e10ac3578d1bb3c", "revision_history": [{"30": ""}, {"54": "35f8da6e8159e348f52a3d9923dd2ab4ea833629"}, {"138": "35f8da6e8159e348f52a3d9923dd2ab4ea833629"}, {"210": "35f8da6e8159e348f52a3d9923dd2ab4ea833629"}, {"215": "0fc7f7146f11a8ba56e0e51656967d14e43fa8ce"}, {"232": "f0db8b00bb21ba6b96d61fb28e10ac3578d1bb3c"}, {"244": "f0db8b00bb21ba6b96d61fb28e10ac3578d1bb3c"}], "ctags": [{"_type": "tag", "name": "api", "path": "/home/kavia/workspace/code-generation/strategic-growth-platform-221604-221614/sge_frontend/src/services/api.js", "pattern": "/^const api = axios.create({$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "base", "path": "/home/kavia/workspace/code-generation/strategic-growth-platform-221604-221614/sge_frontend/src/services/api.js", "pattern": "/^  let base = candidates[0];$/", "language": "JavaScript", "kind": "variable"}, {"_type": "tag", "name": "candidates", "path": "/home/kavia/workspace/code-generation/strategic-growth-platform-221604-221614/sge_frontend/src/services/api.js", "pattern": "/^  const candidates = [$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getAuthContext", "path": "/home/kavia/workspace/code-generation/strategic-growth-platform-221604-221614/sge_frontend/src/services/api.js", "pattern": "/^async function getAuthContext() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "resolveBaseURL", "path": "/home/kavia/workspace/code-generation/strategic-growth-platform-221604-221614/sge_frontend/src/services/api.js", "pattern": "/^const resolveBaseURL = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "url", "path": "/home/kavia/workspace/code-generation/strategic-growth-platform-221604-221614/sge_frontend/src/services/api.js", "pattern": "/^      const url = new URL(window.location.href);$/", "language": "JavaScript", "kind": "constant"}], "hash": "93e17c3999bb01ccb4e012bdd9b4328c", "format-version": 4, "code-base-name": "sge_frontend", "filename": "sge_frontend/src/services/api.js", "fields": [{"name": "let base = candidates[0];", "scope": "", "scopeKind": "", "description": "unavailable"}]}