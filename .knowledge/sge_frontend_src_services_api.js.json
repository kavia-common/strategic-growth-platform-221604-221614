{"is_source_file": true, "format": "JavaScript", "description": "This file provides a client-side API service wrapper for interacting with backend endpoints using Axios. It includes functions for fetching conversations, creating conversations, fetching messages, sending messages, and retrieving dashboard summaries. It dynamically resolves the API base URL from environment or window location, manages authentication and tenant context via Supabase, and sets up Axios interceptors for request and response handling.", "external_files": ["../lib/supabase"], "external_methods": ["supabase.auth.getSession"], "published": ["getConversations", "createConversation", "getConversationById", "createMessage", "getDashboardSummary", "default"], "classes": [], "methods": [{"name": "resolveBaseURL", "description": "Determines the API base URL using environment variables, window location fallback, or defaults."}, {"name": "getAuthContext()", "description": "Asynchronously retrieves current authentication token and organization ID from Supabase session.", "scope": "", "scopeKind": ""}], "calls": ["axios.create", "supabase.auth.getSession", "api.interceptors.request.use", "api.interceptors.response.use", "getConversations", "createConversation", "getConversationById", "createMessage", "getDashboardSummary"], "search-terms": ["api.js", "axios", "Supabase auth", "resolveBaseURL", "interceptors", "conversation", "message", "dashboard"], "state": 2, "file_id": 14, "knowledge_revision": 270, "git_revision": "74c51784a871779d69ab7edb387c41a8c6f0720f", "revision_history": [{"30": ""}, {"54": "35f8da6e8159e348f52a3d9923dd2ab4ea833629"}, {"270": "74c51784a871779d69ab7edb387c41a8c6f0720f"}], "ctags": [{"_type": "tag", "name": "api", "path": "/home/kavia/workspace/code-generation/strategic-growth-platform-221604-221614/sge_frontend/src/services/api.js", "pattern": "/^const api = axios.create({$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "base", "path": "/home/kavia/workspace/code-generation/strategic-growth-platform-221604-221614/sge_frontend/src/services/api.js", "pattern": "/^  let base = candidates[0];$/", "language": "JavaScript", "kind": "variable"}, {"_type": "tag", "name": "candidates", "path": "/home/kavia/workspace/code-generation/strategic-growth-platform-221604-221614/sge_frontend/src/services/api.js", "pattern": "/^  const candidates = [$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "createConversation", "path": "/home/kavia/workspace/code-generation/strategic-growth-platform-221604-221614/sge_frontend/src/services/api.js", "pattern": "/^export const createConversation = (title) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "createMessage", "path": "/home/kavia/workspace/code-generation/strategic-growth-platform-221604-221614/sge_frontend/src/services/api.js", "pattern": "/^export const createMessage = (payload) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getAuthContext", "path": "/home/kavia/workspace/code-generation/strategic-growth-platform-221604-221614/sge_frontend/src/services/api.js", "pattern": "/^async function getAuthContext() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "getConversationById", "path": "/home/kavia/workspace/code-generation/strategic-growth-platform-221604-221614/sge_frontend/src/services/api.js", "pattern": "/^export const getConversationById = (id) => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getConversations", "path": "/home/kavia/workspace/code-generation/strategic-growth-platform-221604-221614/sge_frontend/src/services/api.js", "pattern": "/^export const getConversations = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "getDashboardSummary", "path": "/home/kavia/workspace/code-generation/strategic-growth-platform-221604-221614/sge_frontend/src/services/api.js", "pattern": "/^export const getDashboardSummary = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "resolveBaseURL", "path": "/home/kavia/workspace/code-generation/strategic-growth-platform-221604-221614/sge_frontend/src/services/api.js", "pattern": "/^const resolveBaseURL = () => {$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "url", "path": "/home/kavia/workspace/code-generation/strategic-growth-platform-221604-221614/sge_frontend/src/services/api.js", "pattern": "/^      const url = new URL(window.location.href);$/", "language": "JavaScript", "kind": "constant"}], "hash": "752b1863056107603faf942abdeb00f1", "format-version": 4, "code-base-name": "sge_frontend", "filename": "sge_frontend/src/services/api.js", "fields": [{"name": "let base = candidates[0];", "scope": "", "scopeKind": "", "description": "unavailable"}]}